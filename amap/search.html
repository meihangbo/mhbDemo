<!DOCTYPE html>
<html>
	<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=yes">
    <title>高德地图搜索 demo</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="generator" content="" />
    <meta name="author" content="">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no" />
    <meta http-equiv="x-rim-auto-match" content="none">
    <style type="text/css">
      body{padding:0;margin:0;position: relative;}
      .search-amap{height: 500px;}
      .info{position: fixed;top: 0;left: 0;border: 1px solid #f2f2f2;background-color: rgba(255, 255, 255, .8);z-index: 10;border-radius: .25rem;box-shadow: 0 2px 6px 0 rgba(114, 124, 245, .5);width: 100%;}
      .input-item{padding:10px;width: 100%;}
      .input-item input{height: 28px;line-height: 1.3;line-height: 28px\9;border-width: 1px;border-style: solid;background-color: #fff;border-radius: 2px;width: 90%;}
      .result-info{padding:10px;}
    </style>
	</head>
  <body>
    <div class="info">
    	<div class="input-item">
    		<input id='searchInput' type="text" value='北京' >
    	</div>
    </div>
    <div id="searchAMap" class="search-amap"></div>
    <div id="resultInfo" class="result-info"></div>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.10&key=a7ebc1f570e9292421551a6cd3bc9261&plugin=AMap.Autocomplete"></script>
    <!-- <script type="text/javascript" src="backbone-min.js"></script>
    <script type="text/javascript" src="backbone-min.js"></script>
    <script type="text/javascript" src="prety-json.js"></script> -->
    <script type="text/javascript">
      //初始化地图
      var map = new AMap.Map('searchAMap', {
        resizeEnable: true, //是否监控地图容器尺寸变化
        zoom: 11 //初始地图级别
      });
      
      function autoCompleteAMap(){
        var keywords = document.getElementById("searchInput").value;
        //输入提示
        var autoComplete = new AMap.Autocomplete({
          input: "searchInput",
          city: '全国'
        });
        autoComplete.search(keywords, function(status, result) {
          // 搜索成功时，result即是对应的匹配数据
          console.log(result);
        });
      }

      
      autoCompleteAMap();
      document.getElementById("searchInput").oninput = function (){
        autoCompleteAMap();
      };

      
    </script>
	</body>
</html>
