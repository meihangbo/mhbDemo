<div class="map-charts" id="mapCharts"> </div>
<script type="text/javascript">
  $(function (){
    var mapCharts_opt = $.extend(true,{},mapopts,{
      title: {text: 'XXXXX'},
      geo: {map: 'china'}
    });
    var mapCharts = echarts.init(document.getElementById('mapCharts'));

    showChart(mapCharts, mapCharts_opt, function (){
      $.getJSON('json/demo_1.json', function(json, textStatus) {
        setMapData(json, mapCharts, mapCharts_opt);
      });
    });

    $(window).resize(function() {
      setTimeout(function (){mapCharts.resize(); }, 500);
    });
  });
</script>